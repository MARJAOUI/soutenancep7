{"remainingRequest":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue?vue&type=template&id=e149a438","dependencies":[{"path":"c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue","mtime":1621515799992},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPEhlYWRlcjMgLz4NCiAgICAgICAgPGRpdiBpZD0iY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxwIGlkPSJwcmVzZW50YXRpb24iID5Cb25qb3VyIHt7dXNlci5ub219fSB7e3VzZXIucHJlbm9tfX08L3A+ICANCiAgICAgICAgICAgIDxwIGlkPSJtZXNzYWdlX2FjY3VlaWwiPiBNZXNzYWdlcyDDoCBjb25zdWx0ZXIgISA8L3A+DQogICAgICAgICAgICA8dWwgaWQ9Imxpc3QiID4NCiAgICAgICAgICAgICAgICA8bGkgdi1mb3I9Im1lc3NhZ2UgaW4gbWVzc2FnZXMgIiA6a2V5PSJtZXNzYWdlLmlkIiBpZD0iY29udG91cl9tZXNzYWdlIiAgID4gIA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsaXN0X2NvbnRlbnQiPiANCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImFsaWduX21lc3NhZ2UiPiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1hcmdlRzIgdGl0cmVfY2VudGVyIj48c3BhbiA+VGl0cmU6PC9zcGFuPnt7bWVzc2FnZS50aXRyZX19PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iIG1hcmdlRzEgIj48c3Bhbj5NZXNzYWdlIDo8L3NwYW4+e3ttZXNzYWdlLmNvbnRlbnV9fTwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJhbGlnbl9ub21fZGF0ZSI+ICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtYXJnZUQiPnt7bWVzc2FnZS5Vc2VyLm5vbX19ICB7eyBtZXNzYWdlLlVzZXIucHJlbm9tfX08L3A+ICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1hcmdlRCI+e3ttZXNzYWdlLmNyZWF0ZWRBdH19PC9wPiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LXNob3c9Im1lc3NhZ2UuaW1hZ2VVcmwiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxpbWcgOnNyYz0ibWVzc2FnZS5pbWFnZVVybCIgaWQ9Im1lc3NhZ2VfaW1hZ2UiIGFsdD0iIi8+PC9wPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IA0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYm91dG9ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgQGNsaWNrPSIoKT0+IGRlbGV0ZU1lc3NhZ2UobWVzc2FnZS5pZCkiICB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4iICAgdmFsdWU9IlN1cHByaW1lciBNZXNzYWdlIiAvPiANCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxociBpZD0iaHIiPiANCiAgICAgICAgICAgICAgICA8L2xpID4NCiAgICAgICAgICAgIDwvdWw+DQogICAgICAgIDwvZGl2Pg0KICAgIDxGb290ZXIgLz4gIA0K"},{"version":3,"sources":["c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACf,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YACnD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACV,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;oBACtE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACf,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACxE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACrE,CAAC,CAAC,EAAE,CAAC;4BACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACpB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gCACnE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC9C,CAAC,CAAC,CAAC,CAAC,CAAC;;wBAET,CAAC,CAAC,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAClE,CAAC,CAAC,CAAC,CAAC,CAAC;oBACT,CAAC,CAAC,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;oBAC3G,CAAC,CAAC,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC,EAAE;YACT,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC","file":"c:/soutenancep7/frontend/src/views/DisplayMessages.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <Header3 />\r\n        <div id=\"container\">\r\n            <p id=\"presentation\" >Bonjour {{user.nom}} {{user.prenom}}</p>  \r\n            <p id=\"message_accueil\"> Messages Ã  consulter ! </p>\r\n            <ul id=\"list\" >\r\n                <li v-for=\"message in messages \" :key=\"message.id\" id=\"contour_message\"   >  \r\n                    <div class=\"list_content\"> \r\n                        <div id=\"align_message\"> \r\n                                <p class=\"margeG2 titre_center\"><span >Titre:</span>{{message.titre}}</p>\r\n                                <p class=\" margeG1 \"><span>Message :</span>{{message.contenu}}</p>\r\n                            <br />\r\n                            <div id=\"align_nom_date\">   \r\n                                <p class=\"margeD\">{{message.User.nom}}  {{ message.User.prenom}}</p>  \r\n                                <p class=\"margeD\">{{message.createdAt}}</p>                        \r\n                            </div> \r\n                            \r\n                        </div>\r\n                        <div v-show=\"message.imageUrl\">\r\n                            <p><img :src=\"message.imageUrl\" id=\"message_image\" alt=\"\"/></p>\r\n                        </div> \r\n                    </div>\r\n                    <div class=\"boutons\">\r\n                        <input @click=\"()=> deleteMessage(message.id)\"  type=\"submit\" class=\"btn\"   value=\"Supprimer Message\" /> \r\n                    </div>\r\n                    <hr id=\"hr\"> \r\n                </li >\r\n            </ul>\r\n        </div>\r\n    <Footer />  \r\n</template>\r\n<script>\r\n//import moment from 'moment';\r\nimport Header3 from '@/components/Header3.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'DisplayMessages',\r\n    components: {\r\n      Header3, Footer\r\n    },\r\n    data() { \r\n        return { \r\n            messages : \"\",\r\n           user: \"\" , \r\n        }\r\n    },\r\n    mounted(){ \r\n        /*\r\n        moment(createdAt).format('LLL')\r\n        */\r\n      \r\n        const config = {\r\n        headers: { Authorization: \"Bearer \" + localStorage.token } \r\n        }\r\n        axios.get(\"http://localhost:3000/api/messages/display\", config )\r\n            .then(res => {\r\n                    const data = res.data;\r\n                    this.messages = data;\r\n            });\r\n\r\n        axios.get(\"http://localhost:3000/api/users/me/\" + this.user.id ,config )\r\n            .then(res => {\r\n                    const data = res.data;\r\n                    this.user = data;\r\n            });\r\n    },\r\n    \r\n    methods: {\r\n        detailMessage(){\r\n            const config = {\r\n                headers: { Authorization: \"Bearer \" + localStorage.token } \r\n                }\r\n            axios.get(\"http://localhost:3000/api/messages/display/\" + this.messageId , config )\r\n            .then ((response) => {\r\n                this.response =response.data; \r\n                this.$router.push({ path: \"/DisplayMessages\" });\r\n                console.log(response.data);\r\n            })\r\n           \r\n        },\r\n        deleteMessage(messageId){\r\n            const config = {\r\n                headers: { Authorization: \"Bearer \" + localStorage.token } \r\n                }\r\n            axios.delete(\"http://localhost:3000/api/messages/delete/\" + messageId, config )\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.message = data;\r\n                window.location.reload();\r\n            })\r\n            .catch(function()  {\r\n            window.alert('Vous ne pouvez pas supprimer ce message!');\r\n            this.$router.push({query: {alert:'Vous ne pouvez pas supprimer ce message!'} });\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n</script>\r\n<style>\r\n#container {\r\n    background-color: #ffd9d9;\r\n    margin-bottom: 0;\r\n    margin-top: 0;\r\n}\r\n#message_accueil {\r\n    color: #f57a54;\r\n    font-size: 25px;\r\n}\r\n#presentation {\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    padding-top: 30px;\r\n}\r\n.titre_center{\r\n    text-align: center;\r\n}\r\n#list {\r\n    list-style-type: none;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.list_content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    box-shadow: 5px 5px 8px #bb581e, -5px -5px 8px #bb581e;\r\n    border-radius: 3%;\r\n}\r\nspan {\r\n    color: red;\r\n}\r\n.margeD {\r\n    margin:  0px 15px 0 0px;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    text-align: right;\r\n}\r\n.margeG1 {\r\n    margin:  0px 0px 0px 15px;\r\n    font-size: 20px;\r\n    text-align: left;\r\n}\r\n.margeG2 {\r\n    margin:  0px 100px 0px 100px;\r\n    font-size: 20px;\r\n    text-align: left;\r\n    padding-top: 0;\r\n}\r\n#global {\r\n    max-width: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n}\r\n#align_nom_date {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n.btn {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color:  #F4511E;\r\n}\r\n#message_image {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n#align_message{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    width: 350px;\r\n    height: 170px;\r\n    background-color: cornflowerblue;\r\n}\r\n#hr {\r\n  height: 15px;\r\n  background-color:  black;\r\n  border: none;\r\n}\r\n#align_phot{\r\n    background-color: cornflowerblue;\r\n}\r\n</style>"]}]}