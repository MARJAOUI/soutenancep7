{"remainingRequest":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!c:\\soutenancep7\\frontend\\src\\views\\DisplayThisMessage.vue?vue&type=template&id=4db601a1&scoped=true","dependencies":[{"path":"c:\\soutenancep7\\frontend\\src\\views\\DisplayThisMessage.vue","mtime":1618755725550},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPEhlYWRlciAvPg0KICAgICAgICA8Zm9ybSBjbGFzcz0iZmxleCBmbGV4LWNvbCIgQHN1Ym1pdC5wcmV2ZW50PSJzdWJtaXRDb21tZW50Ij4gDQogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciBmb3JtcyIgPg0KICAgICAgICAgICAgPGgxIGNsYXNzPSJ0aXRsZSBpcy1zaXplLTEiPk1vZGlmaWVyIG91IHN1cHByaW1lciB2b3RyZSBtZXNzYWdlIDwvaDE+DQogICAgICAgICAgICAgICAgPGRpdiBpZD0iZm9ybXVsYWlyZSI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBpZD0nbWVzc2FnZV90aXRyZScgZm9yPSJ0aXRyZSI+VGl0cmU6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiICBuYW1lPSJ0aXRyZSIgaWQ9InRpdHJlIiB2LW1vZGVsPSJ0aXRyZSI+DQogICAgICAgICAgICAgICAgICAgIDxiciAvPjxiciAvPg0KDQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBpZD0nbWVzc2FnZV9jb250ZW51JyBmb3I9ImNvbnRlbnUiPlRleHRlOjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSAgbmFtZT0iY29udGVudSIgdi1tb2RlbD0iY29udGVudSI+VGV4dGU6PC90ZXh0YXJlYT48YnIvPg0KICAgICAgICAgICAgICAgICAgICA8YnIgLz48YnIgLz4NCg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJGaWxlIiAgY2xhc3M9ImZvcm0tbGFiZWwgZC1mbGV4IGFsaWduLWl0ZW1zLXN0YXJ0IiA+QWpvdXRleiB1bmUgaW1hZ2U6PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJpbWFnZSIgICAgdHlwZT0iZmlsZSIgbmFtZT0iaW1hZ2UiIHJlZj0iZmlsZUlucHV0IiBAY2hhbmdlPSJvbkZpbGVVcGxvYWQiID4NCiAgICAgICAgICAgICAgICAgICAgPGJyIC8+PGJyIC8+DQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYm91dG9ucyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgQGNsaWNrPSIoKT0+IHN1cHByZXNzaW9uKG1lc3NhZ2UuaWQpIiBpZD0ic3VwcHJpbWVyIG1lc3NhZ2UiICB0eXBlPSJzdWJtaXQiIGNsYXNzPSJib3V0b24iICAgdmFsdWU9IlN1cHByaW1lciIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBAY2xpY2s9IigpID0+bW9kaWZpY2F0aW9uKE1lc3NhZ2UuaWQpIiBpZD0ibW9kaWZpZXIgbWVzc2FnZSIgIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJvdXRvbiIgICB2YWx1ZT0ibW9kaWZpZXIiIC8+ICANCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Zvcm0+IA0KDQogICAgICAgIDxiciAvPg0KICAgICAgICA8YnIgLz4NCiAgICA8Rm9vdGVyIC8+DQo="},{"version":3,"sources":["c:\\soutenancep7\\frontend\\src\\views\\DisplayThisMessage.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACzB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;oBAEX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;oBAEX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;oBACrF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;oBAEX,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;wBACvH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;oBAC1H,CAAC,CAAC,CAAC,CAAC,CAAC;gBACT,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEN,CAAC,CAAC,EAAE,CAAC;QACL,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC","file":"c:/soutenancep7/frontend/src/views/DisplayThisMessage.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <Header />\r\n        <form class=\"flex flex-col\" @submit.prevent=\"submitComment\"> \r\n        <div class=\"container forms\" >\r\n            <h1 class=\"title is-size-1\">Modifier ou supprimer votre message </h1>\r\n                <div id=\"formulaire\">\r\n                    <label id='message_titre' for=\"titre\">Titre:</label>\r\n                    <input type=\"text\"  name=\"titre\" id=\"titre\" v-model=\"titre\">\r\n                    <br /><br />\r\n\r\n                    <label id='message_contenu' for=\"contenu\">Texte:</label>\r\n                    <textarea  name=\"contenu\" v-model=\"contenu\">Texte:</textarea><br/>\r\n                    <br /><br />\r\n\r\n                    <label for=\"File\"  class=\"form-label d-flex align-items-start\" >Ajoutez une image:</label>\r\n                    <input id=\"image\"    type=\"file\" name=\"image\" ref=\"fileInput\" @change=\"onFileUpload\" >\r\n                    <br /><br />\r\n\r\n                    <div class=\"boutons\">\r\n                        <input @click=\"()=> suppression(message.id)\" id=\"supprimer message\"  type=\"submit\" class=\"bouton\"   value=\"Supprimer\" />\r\n                        <input @click=\"() =>modification(Message.id)\" id=\"modifier message\"  type=\"submit\" class=\"bouton\"   value=\"modifier\" />  \r\n                    </div>\r\n                </div>\r\n        </div>\r\n        </form> \r\n\r\n        <br />\r\n        <br />\r\n    <Footer />\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n      return {\r\n          titre: \"\",\r\n          contenu: \"\",\r\n          selectedFile: \"\",\r\n      }  \r\n    },\r\n    components: {\r\n        Header, Footer\r\n    },\r\n    methods: {\r\n        onFileUpload(evenement) {\r\n             this.selectedFile = evenement.target.files[0];\r\n    },\r\n        submitComment() {\r\n\r\n            const bodyFormData = new FormData();\r\n            bodyFormData.append('contenu', this.contenu);\r\n            bodyFormData.append('titre', this.titre);\r\n            bodyFormData.append('image', this.selectedFile);\r\n\r\n            console.log(this.titre, this.contenu, this.selectedFile.name);\r\n            //const token = localStorage.getItem(\"token\");  //// récuperation du token genéré au login \r\n            //const userId = localStorage.getItem('userId')\r\n            /*const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization : \"token\",  ////   idem sur postman \r\n               \r\n            }*/\r\n        },\r\n        //  récupération autorisation\r\n           /* axios({\r\n          method: \"put\",\r\n          url: \"http://localhost:3000/api/messages/put/:id\", \r\n           headers: { Authorization: \"Bearer \" + localStorage.token },\r\n          data: bodyFormData,\r\n        })\r\n       \r\n          .then((response) =>  {\r\n              this.$router.push({ path: \"/DisplayMessages\" });\r\n            //handle success\r\n            console.log(response);\r\n          })\r\n          .catch(function (response) {\r\n            //handle error\r\n            console.log(response);\r\n          });*/\r\n\r\n         \r\n        suppression () {\r\n            const config = {\r\n            headers: { Authorization: \"Bearer \" + localStorage.token } \r\n            }\r\n       \r\n        axios.delete('http://localhost:3000/api/messages/delete/:id', config )\r\n        .then(() => {\r\n            console.log();\r\n            this.$router.push({ path: \"/DisplayMessages\" });\r\n            })  \r\n        .catch(err => console.error(err));\r\n        }\r\n        \r\n        },\r\n        modification () {\r\n            const config = {\r\n            headers: { Authorization: \"Bearer \" + localStorage.token } \r\n            }\r\n            axios.put('http://localhost:3000/api/messages/put/:id', config )\r\n        .then(() => {\r\n            console.log();\r\n            this.$router.push({ path: \"/DisplayMessages\" });\r\n            })  \r\n        .catch(err => console.error(err));\r\n        }\r\n    \r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n#message_titre #message_contenu {\r\ntext-align: left;\r\n}\r\n#container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n#affichage_message {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  margin-left: 300px;\r\n\r\n  display: inline-block;\r\n    padding: 3px 0px;\r\n    width: 100px;\r\n    min-height: 1px;\r\n    text-align: left;\r\n}\r\n\r\np {\r\n  font-size: 1.5em;\r\n  color: #F4511E;\r\n  text-align: center;\r\n  text-decoration: underline;\r\n}\r\n#valider_message {\r\n  background: #F4511E;           \r\n\tcolor: black;\r\n    width: 170px;\r\n\tmargin-left: 120px;\r\n\tmargin-bottom: 100px;\r\n}\r\nhr {\r\n  height: 3px;\r\n  background-color: #F4511E;\r\n  border: none;\r\n}\r\n.titre .contenu #image {\r\n  height: 50px;\r\n  width: 200px;\r\n}\r\n.affichage_image {\r\n  height: 50px;\r\n  width: 200px;\r\n}\r\n#container{\r\n    align-items: center;\r\n}\r\n#formulaire {\r\n  align-items: center;\r\n\r\n}\r\nbutton {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 1em;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color: #F4511E;\r\n}\r\n.bouton {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 1em;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color: #F4511E;\r\n}\r\n.boutons {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n}\r\n</style>"]}]}