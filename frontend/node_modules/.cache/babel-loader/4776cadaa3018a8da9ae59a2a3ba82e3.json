{"remainingRequest":"C:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\soutenancep7\\frontend\\src\\views\\ModifyUser.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\soutenancep7\\frontend\\src\\views\\ModifyUser.vue","mtime":1621523779823},{"path":"C:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENvbm5lY3RlZFByb2ZpbGUgZnJvbSAnQC9jb21wb25lbnRzL0Nvbm5lY3RlZFByb2ZpbGUudnVlJzsKaW1wb3J0IEhlYWRlcjIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcjIudnVlJzsKaW1wb3J0IEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW9kaWZ5VXNlciIsCiAgY29tcG9uZW50czogewogICAgSGVhZGVyMjogSGVhZGVyMiwKICAgIEZvb3RlcjogRm9vdGVyLAogICAgQ29ubmVjdGVkUHJvZmlsZTogQ29ubmVjdGVkUHJvZmlsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCh1c2VySWQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGNvbmZpZyA9IHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICB9CiAgICB9OwogICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL21lLyIgKyB1c2VySWQsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CiAgICAgIF90aGlzLnVzZXIgPSBkYXRhOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb2RpZmljYXRpb246IGZ1bmN0aW9uIG1vZGlmaWNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MucHV0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL21vZGlmeS8nICsgdGhpcy51c2VyLmlkLCB7CiAgICAgICAgbm9tOiB0aGlzLnVzZXIubm9tLAogICAgICAgIHByZW5vbTogdGhpcy51c2VyLnByZW5vbSwKICAgICAgICBlbWFpbDogdGhpcy51c2VyLmVtYWlsLAogICAgICAgIGlzQWRtaW46IHRoaXMudXNlci5pc0FkbWluLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoJ3VzZXIgbW9kaWZpw6kgYXZlYyBzdWNjw6lzICEnKTsKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL1Byb2ZpbGVNYW5hZ2UvIgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd01EUDogZnVuY3Rpb24gc2hvd01EUCgpIHsKICAgICAgdmFyIGhpZGVQd2QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFzcyIpOwoKICAgICAgaWYgKGhpZGVQd2QudHlwZSA9PT0gInBhc3N3b3JkIikgewogICAgICAgIGhpZGVQd2QudHlwZSA9ICJ0ZXh0IjsKICAgICAgfSBlbHNlIHsKICAgICAgICBoaWRlUHdkLnR5cGUgPSAicGFzc3dvcmQiOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\soutenancep7\\frontend\\src\\views\\ModifyUser.vue"],"names":[],"mappings":"AA+BA,OAAO,gBAAP,MAA6B,mCAA7B;AACA,OAAO,OAAP,MAAoB,0BAApB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,YADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,OAAO,EAAP,OADQ;AACC,IAAA,MAAM,EAAN,MADD;AACS,IAAA,gBAAe,EAAf;AADT,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,IAAI,EAAE;AADH,KAAP;AAGH,GATU;AAUT,EAAA,OAVS,mBAUD,MAVC,EAUM;AAAA;;AACb,QAAM,MAAK,GAAI;AACX,MAAA,OAAO,EAAE;AAAE,QAAA,aAAa,EAAE,YAAY,YAAY,CAAC;AAA1C;AADE,KAAf;AAGA,IAAA,KAAK,CAAC,GAAN,CAAU,wCAAwC,MAAlD,EAA2D,MAA3D,EACC,IADD,CACM,UAAA,GAAE,EAAK;AACT,UAAM,IAAG,GAAI,GAAG,CAAC,IAAjB;AACA,MAAA,KAAI,CAAC,IAAL,GAAY,IAAZ;AACH,KAJD;AAKH,GAnBU;AAoBX,EAAA,OAAM,EAAG;AACL,IAAA,YADK,0BACW;AAAA;;AACZ,UAAM,MAAK,GAAI;AACP,QAAA,OAAO,EAAE;AAAE,UAAA,aAAa,EAAE,YAAY,YAAY,CAAC;AAA1C;AADF,OAAf;AAGA,MAAA,KAAK,CAAC,GAAN,CAAU,4CAA4C,KAAK,IAAL,CAAU,EAAhE,EAAqE;AACjE,QAAA,GAAE,EAAU,KAAK,IAAL,CAAU,GAD2C;AAEjE,QAAA,MAAK,EAAO,KAAK,IAAL,CAAU,MAF2C;AAGjE,QAAA,KAAI,EAAQ,KAAK,IAAL,CAAU,KAH2C;AAIjE,QAAA,OAAM,EAAM,KAAK,IAAL,CAAU,OAJ2C;AAKjE,QAAA,QAAO,EAAK,KAAK,IAAL,CAAU;AAL2C,OAArE,EAOA,MAPA,EASC,IATD,CASM,YAAM;AACR,QAAA,MAAM,CAAC,KAAP,CAAa,4BAAb;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACC,OAZL,EAaC,KAbD,CAaO,UAAA,GAAE;AAAA,eAAK,OAAO,CAAC,KAAR,CAAc,GAAd,CAAL;AAAA,OAbT;AAcH,KAnBI;AAoBJ,IAAA,OApBI,qBAoBM;AACP,UAAI,OAAM,GAAI,QAAQ,CAAC,cAAT,CAAwB,MAAxB,CAAd;;AACA,UAAI,OAAO,CAAC,IAAR,KAAiB,UAArB,EAAiC;AAC7B,QAAA,OAAO,CAAC,IAAR,GAAe,MAAf;AACJ,OAFA,MAEO;AACH,QAAA,OAAO,CAAC,IAAR,GAAe,UAAf;AACJ;AACJ;AA3BK;AApBE,CAAf","sourcesContent":["<template>\r\n    <Header2 />\r\n    <ConnectedProfile />\r\n        <div id=\"container \">\r\n            <h1 class=\"titre is-size-1\">Modifier et Valider </h1>\r\n            <div id=\"formulaire\">\r\n                <label class=\"form_col_label\" for=\"contact_nom\">Nom </label>\r\n                <input class=\"form_col_champ\" name=\"contact_nom\"  type=\"text\" placeholder= Nom v-model=\"user.nom\"  > \r\n                <br /><br />\r\n\r\n                <label class=\"form_col_label\" for=\"contact_prenom\">Prénom </label>\r\n                <input class=\"form_col_champ\" name=\"contact_prenom\"  type=\"text\" placeholder= Prenom v-model=\"user.prenom\"  >\r\n                <br /><br />\r\n                \r\n                <label class=\"form_col_label\" for=\"contact_email\">Email </label>\r\n                <input class=\"form_col_champ\" name=\"password\"    type=\"Email\"  placeholder= Email v-model=\"user.email\" >\r\n                <br /><br />\r\n\r\n                <label class=\"form_col_label\" for=\"pass\">Password </label>\r\n                <input class=\"form_col_champ\" name=\"password\" id=\"pass\"   type=\"password\"  placeholder= \"+8car +1min +1maj +1num\" v-model=\"user.password\" >\r\n                <br /><br />\r\n                <div class=\"marge_btn\">              \r\n                    <div><input @click=\"modification\" class=\"btn\" type=\"submit\" value=\"Soumettre\" /> </div>\r\n                    <div><input type=\"checkbox\" @click=\"showMDP()\"> <p>Show Password </p> </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    <Footer />\r\n</template>\r\n\r\n<script>\r\nimport ConnectedProfile from '@/components/ConnectedProfile.vue'\r\nimport Header2 from '@/components/Header2.vue';\r\nimport Footer from '@/components/Footer.vue';\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"ModifyUser\",\r\n    components: {\r\n        Header2, Footer, ConnectedProfile  \r\n    },\r\n    data() {\r\n        return {\r\n            user: \"\",\r\n        }\r\n    },\r\n      mounted(userId){  \r\n        const config = {\r\n            headers: { Authorization: \"Bearer \" + localStorage.token } \r\n            }\r\n        axios.get(\"http://localhost:3000/api/users/me/\" + userId , config )\r\n        .then(res => {\r\n            const data = res.data;\r\n            this.user = data;\r\n        });   \r\n    },\r\n    methods :{\r\n        modification () {\r\n            const config = {\r\n                    headers: { Authorization: \"Bearer \" + localStorage.token } \r\n                    }\r\n            axios.put('http://localhost:3000/api/users/modify/' + this.user.id , {\r\n                nom       : this.user.nom,\r\n                prenom    : this.user.prenom,\r\n                email     : this.user.email,\r\n                isAdmin   : this.user.isAdmin,\r\n                password  : this.user.password,\r\n            },\r\n            config\r\n            )\r\n            .then(() => {\r\n                window.alert('user modifié avec succés !');\r\n                this.$router.push({ path: \"/ProfileManage/\" });  \r\n                })  \r\n            .catch(err => console.error(err));\r\n        },\r\n         showMDP() {\r\n            var hidePwd = document.getElementById(\"pass\");\r\n            if (hidePwd.type === \"password\") {\r\n                hidePwd.type = \"text\";\r\n            } else {\r\n                hidePwd.type = \"password\";\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n#formulaire{\r\n    align-items: center;\r\n}\r\n.titre {\r\n    color: #122442;\r\n    margin: 50px 0 50px 0;\r\n}\r\n.form_col_label {\r\n    display: inline-block;\r\n    margin-right: 15px;\r\n    padding: 3px 0px;\r\n    width: 100px;\r\n    min-height: 1px;\r\n    text-align: left;\r\n}\r\n.form_col_champ{\r\n   width: 200px;\r\n   height: 25px;   \r\n}\r\n.btn {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color:  #F4511E;\r\n}\r\n.marge_btn {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    margin-bottom: 50px;\r\n}\r\n</style>"],"sourceRoot":""}]}