{"remainingRequest":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js!c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue?vue&type=template&id=e149a438","dependencies":[{"path":"c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue","mtime":1621537032820},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgdlNob3cgYXMgX3ZTaG93LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBpZDogImNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgaWQ6ICJwcmVzZW50YXRpb24iCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInAiLCB7CiAgaWQ6ICJtZXNzYWdlX2FjY3VlaWwiCn0sICIgTWVzc2FnZXMgw6AgY29uc3VsdGVyICEgIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSB7CiAgaWQ6ICJsaXN0Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImxpc3RfY29udGVudCIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgaWQ6ICJhbGlnbl9tZXNzYWdlIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogIm1hcmdlRzIgdGl0cmVfY2VudGVyIgp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgIlRpdHJlOiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiIG1hcmdlRzEgIgp9OwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsICJNZXNzYWdlIDoiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMiA9IHsKICBpZDogImFsaWduX25vbV9kYXRlIgp9Owp2YXIgX2hvaXN0ZWRfMTMgPSB7CiAgY2xhc3M6ICJtYXJnZUQiCn07CnZhciBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogIm1hcmdlRCIKfTsKdmFyIF9ob2lzdGVkXzE1ID0gewogIGNsYXNzOiAiYm91dG9ucyIKfTsKCnZhciBfaG9pc3RlZF8xNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImhyIiwgewogIGlkOiAiaHIiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfSGVhZGVyMyA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIzIik7CgogIHZhciBfY29tcG9uZW50X0Zvb3RlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJGb290ZXIiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0hlYWRlcjMpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF8yLCAiQm9uam91ciAiICsgX3RvRGlzcGxheVN0cmluZygkZGF0YS51c2VyLm5vbSkgKyAiICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnVzZXIucHJlbm9tKSwgMQogIC8qIFRFWFQgKi8KICApLCBfaG9pc3RlZF8zLCBfY3JlYXRlVk5vZGUoInVsIiwgX2hvaXN0ZWRfNCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5tZXNzYWdlcywgZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibGkiLCB7CiAgICAgIGtleTogbWVzc2FnZS5pZCwKICAgICAgaWQ6ICJjb250b3VyX21lc3NhZ2UiCiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfNywgW19ob2lzdGVkXzgsIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhtZXNzYWdlLnRpdHJlKSwgMQogICAgLyogVEVYVCAqLwogICAgKV0pLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF85LCBbX2hvaXN0ZWRfMTAsIF9jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhtZXNzYWdlLmNvbnRlbnUpLCAxCiAgICAvKiBURVhUICovCiAgICApXSksIF9ob2lzdGVkXzExLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEyLCBbX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfMTMsIF90b0Rpc3BsYXlTdHJpbmcobWVzc2FnZS5Vc2VyLm5vbSkgKyAiICIgKyBfdG9EaXNwbGF5U3RyaW5nKG1lc3NhZ2UuVXNlci5wcmVub20pLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF8xNCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy5nZXRUaW1lKG1lc3NhZ2UuY3JlYXRlZEF0KSksIDEKICAgIC8qIFRFWFQgKi8KICAgICldKV0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgICBzcmM6IG1lc3NhZ2UuaW1hZ2VVcmwsCiAgICAgIGlkOiAibWVzc2FnZV9pbWFnZSIsCiAgICAgIGFsdDogIiIKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsic3JjIl0pXSldLCA1MTIKICAgIC8qIE5FRURfUEFUQ0ggKi8KICAgICksIFtbX3ZTaG93LCBtZXNzYWdlLmltYWdlVXJsXV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTUsIFtfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVNZXNzYWdlKG1lc3NhZ2UuaWQpOwogICAgICB9LAogICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgY2xhc3M6ICJidG4iLAogICAgICB2YWx1ZTogIlN1cHByaW1lciBNZXNzYWdlIgogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSksIF9ob2lzdGVkXzE2XSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Gb290ZXIpXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["c:\\soutenancep7\\frontend\\src\\views\\DisplayMessages.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <Header3 />\r\n        <div id=\"container\">\r\n            <p id=\"presentation\" >Bonjour {{user.nom}} {{user.prenom}}</p>  \r\n            <p id=\"message_accueil\"> Messages Ã  consulter ! </p>\r\n            <ul id=\"list\" >\r\n                <li v-for=\"message in messages \" :key=\"message.id\" id=\"contour_message\"   >  \r\n                    <div class=\"list_content\"> \r\n                        <div id=\"align_message\"> \r\n                                <p class=\"margeG2 titre_center\"><span >Titre:</span>{{message.titre}}</p>\r\n                                <p class=\" margeG1 \"><span>Message :</span>{{message.contenu}}</p>\r\n                            <br />\r\n                            <div id=\"align_nom_date\">   \r\n                                <p class=\"margeD\">{{message.User.nom}}  {{ message.User.prenom}}</p>  \r\n                                <p class=\"margeD\">{{getTime(message.createdAt)}}</p>                        \r\n                            </div> \r\n                            \r\n                        </div>\r\n                        <div v-show=\"message.imageUrl\">\r\n                            <p><img :src=\"message.imageUrl\" id=\"message_image\" alt=\"\"/></p>\r\n                        </div> \r\n                    </div>\r\n                    <div class=\"boutons\">\r\n                        <input @click=\"()=> deleteMessage(message.id)\"  type=\"submit\" class=\"btn\"   value=\"Supprimer Message\" /> \r\n                    </div>\r\n                    <hr id=\"hr\"> \r\n                </li >\r\n            </ul>\r\n        </div>\r\n    <Footer />  \r\n</template>\r\n<script>\r\nimport moment from 'moment';\r\nimport Header3 from '@/components/Header3.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport axios from 'axios';\r\nexport default {\r\n    name: 'DisplayMessages',\r\n    components: {\r\n      Header3, Footer\r\n    },\r\n    data() { \r\n        return { \r\n            messages : \"\",\r\n           user: \"\" , \r\n        }\r\n    },\r\n    mounted(){ \r\n        const config = {\r\n        headers: { Authorization: \"Bearer \" + localStorage.token } \r\n        }\r\n        axios.get(\"http://localhost:3000/api/messages/display\", config )\r\n            .then(res => {\r\n                    const data = res.data;\r\n                    this.messages = data;\r\n            });\r\n\r\n        axios.get(\"http://localhost:3000/api/users/me/\" + this.user.id ,config )\r\n            .then(res => {\r\n                    const data = res.data;\r\n                    this.user = data;\r\n            });\r\n    },\r\n    \r\n    methods: {\r\n        detailMessage(){\r\n            const config = {\r\n                headers: { Authorization: \"Bearer \" + localStorage.token } \r\n                }\r\n            axios.get(\"http://localhost:3000/api/messages/display/\" + this.messageId , config )\r\n            .then ((response) => {\r\n                this.response =response.data; \r\n                this.$router.push({ path: \"/DisplayMessages\" });\r\n                console.log(response.data);\r\n            })\r\n           \r\n        },\r\n        deleteMessage(messageId){\r\n            const config = {\r\n                headers: { Authorization: \"Bearer \" + localStorage.token } \r\n                }\r\n            axios.delete(\"http://localhost:3000/api/messages/delete/\" + messageId, config )\r\n            .then(res => {\r\n                const data = res.data;\r\n                this.message = data;\r\n                window.location.reload();\r\n            })\r\n            .catch(function()  {\r\n            window.alert('Vous ne pouvez pas supprimer ce message!');\r\n            this.$router.push({query: {alert:'Vous ne pouvez pas supprimer ce message!'} });\r\n            });\r\n        },\r\n        getTime(createdAt) {\r\n            return moment(createdAt).format('llll')\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style>\r\n#container {\r\n    background-color: #ffd9d9;\r\n    margin-bottom: 0;\r\n    margin-top: 0;\r\n}\r\n#message_accueil {\r\n    color: #f57a54;\r\n    font-size: 25px;\r\n}\r\n#presentation {\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    padding-top: 30px;\r\n}\r\n.titre_center{\r\n    text-align: center;\r\n}\r\n#list {\r\n    list-style-type: none;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.list_content {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    box-shadow: 5px 5px 8px #bb581e, -5px -5px 8px #bb581e;\r\n    border-radius: 3%;\r\n}\r\nspan {\r\n    color: red;\r\n}\r\n.margeD {\r\n    margin:  0px 15px 0 0px;\r\n    font-size: 12px;\r\n    font-weight: bold;\r\n    text-align: right;\r\n}\r\n.margeG1 {\r\n    margin:  0px 0px 0px 15px;\r\n    font-size: 20px;\r\n    text-align: left;\r\n}\r\n.margeG2 {\r\n    margin:  0px 100px 0px 100px;\r\n    font-size: 20px;\r\n    text-align: left;\r\n    padding-top: 0;\r\n}\r\n#global {\r\n    max-width: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n}\r\n#align_nom_date {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n.btn {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color:  #F4511E;\r\n}\r\n#message_image {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n#align_message{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    width: 350px;\r\n    height: 170px;\r\n    background-color: cornflowerblue;\r\n}\r\n#hr {\r\n  height: 15px;\r\n  background-color:  black;\r\n  border: none;\r\n}\r\n#align_phot{\r\n    background-color: cornflowerblue;\r\n}\r\n</style>"],"sourceRoot":""}]}