{"remainingRequest":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js!c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!c:\\soutenancep7\\frontend\\src\\views\\signin.vue?vue&type=script&lang=js","dependencies":[{"path":"c:\\soutenancep7\\frontend\\src\\views\\signin.vue","mtime":1620844996518},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\soutenancep7\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEhlYWRlcjQgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlcjQudnVlJzsKaW1wb3J0IEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2lnbmluIiwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI0OiBIZWFkZXI0LAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7CiAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb25uZWN0aW9uOiBmdW5jdGlvbiBjb25uZWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ3Rva2VuJwogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9sb2dpbicsIHsKICAgICAgICBlbWFpbDogdGhpcy51c2VyLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgfSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL01lc3NhZ2VNYW5hZ2UiCiAgICAgICAgfSk7CgogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySWQiLCByZXNwb25zZS5kYXRhLnVzZXJJZCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cuYWxlcnQoJ0VtYWlsIG91IHBhc3N3b3JkIGluY29ycmVjdCcpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["c:\\soutenancep7\\frontend\\src\\views\\signin.vue"],"names":[],"mappings":"AAoBA,OAAO,OAAP,MAAoB,0BAApB;AACA,OAAO,MAAP,MAAmB,yBAAnB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,QADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,OAAO,EAAP,OADQ;AACC,IAAA,MAAK,EAAL;AADD,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,IAAI,EAAE;AAAE,QAAA,KAAK,EAAE,IAAT;AAAe,QAAA,QAAQ,EAAE;AAAzB;AADH,KAAP;AAGH,GATU;AAUX,EAAA,OAVW,qBAUD;AACN,IAAA,OAAO,CAAC,GAAR,CAAY,KAAK,MAAjB;AACH,GAZU;AAaX,EAAA,OAAO,EAAE;AACG,IAAA,UADH,wBACiB;AAAA;;AAClB,UAAM,MAAK,GAAI;AACP,QAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,UAAA,aAAY,EAAI;AAFX;AADF,OAAf;AAMA,MAAA,KAAK,CAAC,IAAN,CAAW,uCAAX,EAAoD;AAC5C,QAAA,KAAI,EAAQ,KAAK,IAAL,CAAU,KADsB;AAE5C,QAAA,QAAO,EAAK,KAAK,IAAL,CAAU;AAFsB,OAApD,EAIA,MAJA,EAMC,IAND,CAMM,UAAC,QAAD,EAAc;AAChB,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,QAAQ,CAAC,IAAT,CAAc,KAA5C;AACA,QAAA,YAAY,CAAC,OAAb,CAAqB,QAArB,EAA+B,QAAQ,CAAC,IAAT,CAAc,MAA7C;AACC,OAVL,EAWC,KAXD,CAWO,YAAM;AACT,QAAA,MAAM,CAAC,KAAP,CAAa,6BAAb;AACC,QAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AAEJ,OAfD;AAgBH;AAxBI;AAbE,CAAf","sourcesContent":["<template>\r\n    <Header4 />\r\n        <div id=\"container\">\r\n            <h1 class=\"titre is-size-1\">Veuillez vous connecter SVP</h1>\r\n            <div id=\"formulaire\">\r\n                <label class=\"form_col_label\" for=\"contact_email\">Email</label>\r\n                <input class=\"form_col_champ\" name=\"contact_email\" type=\"Email\" v-model=\"user.email\" required >\r\n                <br /><br />\r\n\r\n                <label class=\"form_col_label\" for=\"contact_password\">Password </label>\r\n                <input class=\"form_col_champ\" name=\"contact_password\" type=\"Password\" v-model=\"user.password\" required >\r\n                <br /><br />\r\n                \r\n                <input  @click=\"connection\" id=\"valider_login\"  type=\"submit\" class=\"btn\" value=\"Valider \" />\r\n            </div>\r\n        </div>\r\n    <Footer />\r\n</template> \r\n\r\n<script>\r\nimport Header4 from '@/components/Header4.vue';\r\nimport Footer from '@/components/Footer.vue';\r\nimport axios from \"axios\";\r\nexport default {\r\n    name: \"Signin\",\r\n    components: {\r\n        Header4, Footer\r\n    },\r\n    data() {\r\n        return {\r\n            user: { email: null, password: null, },\r\n        };\r\n    },\r\n    mounted() {\r\n        console.log(this.$route);\r\n    },\r\n    methods: {\r\n                connection () {\r\n            const config = {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        Authorization : 'token',\r\n                    }\r\n                };\r\n            axios.post('http://localhost:3000/api/users/login', {\r\n                    email     : this.user.email,\r\n                    password  : this.user.password,\r\n            },\r\n            config\r\n            )\r\n            .then((response) => {\r\n                this.$router.push({ path: \"/MessageManage\"});\r\n                localStorage.setItem(\"token\", response.data.token);\r\n                localStorage.setItem(\"userId\", response.data.userId);\r\n                }) \r\n            .catch(() => {\r\n                window.alert('Email ou password incorrect');\r\n                 window.location.reload();\r\n\r\n            }) \r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n#container {\r\n    margin-top: 160px;\r\n    margin-bottom: 175px;\r\n}\r\n.titre {\r\n    color: #122442;\r\n    font-size: 25px;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.form_col_label {\r\n    display: inline-block;\r\n    margin-right: 15px;\r\n    padding: 3px 0px;\r\n    width: 100px;\r\n    min-height: 1px;\r\n    text-align: left;\r\n}\r\n.form_col_champ{\r\n   width: 200px;\r\n   height: 25px;   \r\n}\r\n#valider_login{\r\n    background:  #F4511E;          \r\n\tcolor: black;\r\n    width: 200px;\r\n\tmargin-left: 120px;\r\n\tmargin-bottom: 100px;\r\n    }\r\n.btn {\r\n  border: 0;\r\n  line-height: 2.5;\r\n  padding: 0 20px;\r\n  margin-top: 20px;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  background-color:  #F4511E;\r\n}\r\n</style>"],"sourceRoot":""}]}