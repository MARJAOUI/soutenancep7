var vueComposableAxios=function(e,r,t){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var l=u(r);const n=e=>"string"==typeof e,o=e=>"boolean"==typeof e,a=e=>null!==e&&"object"==typeof e;function s(e,r=!1){const u=t.ref(!1),s=t.ref(null);let c;const v=function(e,r){if(!e)throw new Error(`[usePromise] argument can't be '${e}'`);if("function"!=typeof e)throw new Error("[usePromise] expects function, but received "+typeof e);const[u,l]=o(r)?[r,!1]:a(r)?[r.lazy,r.throwException]:[!1,!1],n=t.ref(!1),s=t.ref(null),c=t.ref(null),v=t.ref(),i=async(...r)=>{n.value=!0,s.value=null;const u=r&&e.length!==r.length&&r.length>0&&o(r[r.length-1])?r[r.length-1]:l,a=v.value=e(...r);try{const e=await a;return v.value===a&&(c.value=e),e}catch(e){return t.toRaw(v.value)===t.toRaw(a)&&(s.value=e,c.value=null),u?a:void 0}finally{v.value===a&&(n.value=!1)}};return u||i(),{exec:i,result:c,promise:v,loading:n,error:s}}((async r=>{c=l.CancelToken.source(),u.value=!1,s.value=null;const t=n(r)?{url:r}:r;return e.request({cancelToken:c.token,...t})}),{lazy:!0,throwException:r}),i=t.computed((()=>v.result.value&&v.result.value.data||v.error.value&&v.error.value.response&&v.error.value.response.data||null)),f=t.computed((()=>v.result.value&&v.result.value.status||v.error.value&&v.error.value.response&&v.error.value.response.status||null)),p=t.computed((()=>v.result.value&&v.result.value.statusText||v.error.value&&v.error.value.response&&v.error.value.response.statusText||null));return{...v,client:e,data:i,status:f,statusText:p,cancel:e=>{c&&(c.cancel(e),u.value=!0,s.value=e)},isCancelled:u,cancelledMessage:s}}return e.makeAxios=s,e.useAxios=function(e,r,t=!1){const u=n(e)||o(e)?a(r)?r:void 0:e;t=o(e)?e:o(r)?r:t;const c=s(l.create(u),t);return"string"==typeof e?c.exec({...u,url:e},!1):u&&u.url&&c.exec(u,!1),c},Object.defineProperty(e,"__esModule",{value:!0}),e}({},axios,VueRuntimeCore);
